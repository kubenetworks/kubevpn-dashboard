{"version":3,"file":"static/js/async/page.e9a86aee.js","sources":["webpack://kubevpn-dashboard-web/./src/api/index.ts","webpack://kubevpn-dashboard-web/./src/kubevpn-config/index.tsx","webpack://kubevpn-dashboard-web/./src/routes/page.tsx"],"sourcesContent":["import axios from \"axios\";\n\nconst dashboardAxios = axios.create({\n  baseURL: \"/api/dashboard\",\n  method: \"POST\",\n});\n\nexport class Api {\n  static GetKubevpnConfig() {\n    return dashboardAxios({ params: { Action: \"GetKubevpnConfig\" } });\n  }\n  static UpdateKubevpnConfig(content: string) {\n    return dashboardAxios({\n      params: { Action: \"UpdateKubevpnConfig\" },\n      headers: { \"Content-Type\": \"text/plain\" },\n      data: content,\n    });\n  }\n}\n","import { Api } from \"@/api\";\nimport { Button, Message } from \"@arco-design/web-react\";\nimport { Editor } from \"@monaco-editor/react\";\nimport { useEffect, useRef, useState } from \"react\";\n\nexport default function KubevpnConfig() {\n  const [config, setConfig] = useState<string>();\n  const [changed, setChanged] = useState(false);\n  const initVal = useRef(\"\");\n\n  const fetchData = async () => {\n    const result = await Api.GetKubevpnConfig();\n\n    const localConfig = result.data || \"\";\n\n    setConfig(localConfig);\n    initVal.current = result.data;\n    setChanged(false);\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  return (\n    <>\n      <div className=\"font-medium text-lg pb-4\">\n        <span>Kubevpn Config</span>\n\n        {changed && (\n          <>\n            <span className=\"px-2\">-</span>\n            <span className=\"pr-2 text-gray-400\">Changed</span>\n            <Button\n              size=\"small\"\n              type=\"primary\"\n              onClick={async () => {\n                if (!config) return;\n\n                await Api.UpdateKubevpnConfig(config);\n\n                Message.success(\"Kubevpn Config Saved!\");\n                fetchData();\n              }}\n            >\n              Save\n            </Button>\n          </>\n        )}\n      </div>\n\n      {config !== undefined && (\n        <Editor\n          height=\"calc(100vh - 120px)\"\n          language=\"yaml\"\n          value={config}\n          onChange={(value) => {\n            setConfig(value || \"\");\n\n            if (value === initVal.current) {\n              setChanged(false);\n            } else {\n              setChanged(true);\n            }\n          }}\n        />\n      )}\n    </>\n  );\n}\n","import \"@arco-design/web-react/dist/css/arco.css\";\nimport \"./tailwind.css\";\n\nimport KubevpnConfig from \"@/kubevpn-config\";\nimport { IconSettings } from \"@arco-design/web-react/icon\";\n\nimport { loader } from \"@monaco-editor/react\";\nimport * as monaco from \"monaco-editor\";\n\nloader.config({ monaco });\n\nexport default function App() {\n  return (\n    <div className=\"flex\" style={{ height: \"100vh\" }}>\n      <nav\n        style={{ width: 320, backgroundColor: \"#6674bb\" }}\n        className=\"text-white\"\n      >\n        <div className=\"font-mono text-center py-10 text-lg\">\n          Kubevpn Dashboard\n        </div>\n\n        <div className=\"p-2\">\n          <div\n            className=\"px-3 py-2 rounded-lg text-base cursor-pointer\"\n            style={{ backgroundColor: \"#8592d6\" }}\n          >\n            <IconSettings className=\"mr-2\" />\n            <span>Settings</span>\n          </div>\n        </div>\n      </nav>\n\n      <main\n        className=\"min-w-0 flex-1 p-4 overflow-auto\"\n        style={{ backgroundColor: \"#e5eaff\" }}\n      >\n        <div\n          className=\"bg-white px-5 py-4 rounded-lg\"\n          style={{ minHeight: \"calc(100vh - 32px)\" }}\n        >\n          <KubevpnConfig />\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":["dashboardAxios","axios","Api","content","KubevpnConfig","config","setConfig","useState","changed","setChanged","initVal","useRef","fetchData","result","useEffect","Button","Message","undefined","Editor","value","App","IconSettings","loader","monaco"],"mappings":"y6TAEMA,EAAiBC,A,WAAAA,CAAAA,CAAAA,MAAY,CAAC,CAClC,QAAS,iBACT,OAAQ,MACV,EAEO,OAAMC,EACX,OAAO,kBAAmB,CACxB,OAAOF,EAAe,CAAE,OAAQ,CAAE,OAAQ,kBAAmB,CAAE,EACjE,CACA,OAAO,oBAAoBG,CAAe,CAAE,CAC1C,OAAOH,EAAe,CACpB,OAAQ,CAAE,OAAQ,qBAAsB,EACxC,QAAS,CAAE,eAAgB,YAAa,EACxC,KAAMG,CACR,EACF,CACF,C,8BCbe,SAASC,IACtB,I,EAAM,CAACC,EAAQC,EAAU,CAAGC,AAAAA,CAAAA,EAAAA,EAAAA,QAAAA,AAAAA,IACtB,CAACC,EAASC,EAAW,CAAGF,AAAAA,CAAAA,EAAAA,EAAAA,QAAAA,AAAAA,EAAS,IACjCG,EAAUC,AAAAA,CAAAA,EAAAA,EAAAA,MAAAA,AAAAA,EAAO,IAEvB,IAAMC,G,EAAY,oBAChB,IAAMC,EAAS,MAAMX,EAAI,gBAAgB,GAIzCI,EAFoBO,EAAO,IAAI,EAAI,IAGnCH,EAAQ,OAAO,CAAGG,EAAO,IAAI,CAC7BJ,EAAW,GACb,G,4CAMA,MAJAK,AAAAA,CAAAA,EAAAA,EAAAA,SAAAA,AAAAA,EAAU,KACRF,GACF,EAAG,EAAE,EAGH,uB,UACE,WAAC,OAAI,UAAU,2B,UACb,UAAC,Q,SAAK,gB,GAELJ,GACC,uB,UACE,UAAC,QAAK,UAAU,O,SAAO,G,GACvB,UAAC,QAAK,UAAU,qB,SAAqB,S,GACrC,UAACO,EAAAA,CAAMA,CAAAA,CACL,KAAK,QACL,KAAK,UACL,QAAS,oBACFV,IAEL,MAAMH,EAAI,mBAAmB,CAACG,GAE9BW,EAAAA,CAAAA,CAAAA,OAAe,CAAC,yBAChBJ,IACF,G,SACD,M,SAONP,AAAWY,KAAAA,IAAXZ,GACC,UAACa,EAAAA,EAAMA,CAAAA,CACL,OAAO,sBACP,SAAS,OACT,MAAOb,EACP,SAAU,AAACc,IACTb,EAAUa,GAAS,IAEfA,IAAUT,EAAQ,OAAO,CAC3BD,EAAW,IAEXA,EAAW,GAEf,C,KAKV,C,iBC1De,SAASW,IACtB,MACE,WAAC,OAAI,UAAU,OAAO,MAAO,CAAE,OAAQ,OAAQ,E,UAC7C,WAAC,OACC,MAAO,CAAE,MAAO,IAAK,gBAAiB,SAAU,EAChD,UAAU,a,UAEV,UAAC,OAAI,UAAU,sC,SAAsC,mB,GAIrD,UAAC,OAAI,UAAU,M,SACb,WAAC,OACC,UAAU,gDACV,MAAO,CAAE,gBAAiB,SAAU,E,UAEpC,UAACC,EAAAA,CAAYA,CAAAA,CAAC,UAAU,M,GACxB,UAAC,Q,SAAK,U,WAKZ,UAAC,QACC,UAAU,mCACV,MAAO,CAAE,gBAAiB,SAAU,E,SAEpC,UAAC,OACC,UAAU,gCACV,MAAO,CAAE,UAAW,oBAAqB,E,SAEzC,UAACjB,EAAaA,CAAAA,E,OAKxB,CArCAkB,EAAAA,EAAAA,CAAAA,MAAa,CAAC,CAAEC,OAAMA,CAAC,E"}